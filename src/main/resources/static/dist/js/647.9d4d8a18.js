"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[647],{4647:function(e,r,t){t.r(r),t.d(r,{default:function(){return u}});var a=function(){var e=this,r=e._self._c;return r("el-card",{staticStyle:{width:"500px"}},[r("el-form",{ref:"userForm",attrs:{"label-width":"80px",size:"small",model:e.form,rules:e.rules}},[r("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http://localhost:9090/file/upload","show-file-list":!1,"on-success":e.handleAvatarSuccess}},[e.form.avatarUrl?r("img",{staticClass:"avatar",attrs:{src:e.form.avatarUrl}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),r("el-form-item",{attrs:{label:"用户名"}},[r("el-input",{attrs:{disabled:"",autocomplete:"off"},model:{value:e.form.username,callback:function(r){e.$set(e.form,"username",r)},expression:"form.username"}})],1),r("el-form-item",{attrs:{label:"昵称",prop:"name"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.name,callback:function(r){e.$set(e.form,"name",r)},expression:"form.name"}})],1),r("el-form-item",{attrs:{label:"身份证号码",prop:"idNumber"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.idNumber,callback:function(r){e.$set(e.form,"idNumber",r)},expression:"form.idNumber"}})],1),r("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.email,callback:function(r){e.$set(e.form,"email",r)},expression:"form.email"}})],1),r("el-form-item",{attrs:{label:"电话",prop:"phone"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.phone,callback:function(r){e.$set(e.form,"phone",r)},expression:"form.phone"}})],1),r("el-form-item",{attrs:{label:"性别",prop:"sex"}},[r("el-radio",{attrs:{label:"男"},model:{value:e.form.sex,callback:function(r){e.$set(e.form,"sex",r)},expression:"form.sex"}},[e._v("男")]),r("el-radio",{attrs:{label:"女"},model:{value:e.form.sex,callback:function(r){e.$set(e.form,"sex",r)},expression:"form.sex"}},[e._v("女")])],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("确 定")])],1)],1)],1)},s=[],l={name:"Person",data(){return{form:{},user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):{},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:10,message:"长度在 3 到 10 个字符",trigger:"blur"}],idNumber:[{required:!0,message:"请输入身份证号码",trigger:"blur"},{pattern:/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/,message:"输入正确身份证号码",trigger:"blur"}],name:[{required:!0,message:"请输入昵称",trigger:"blur"}],phone:[{required:!0,message:"请输入电话号码",trigger:"blur"},{pattern:/^((0\d{2,3}-\d{7,8})|(1[34578]\d{9}))$/,message:"输入正确电话号码",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{pattern:/^([a-zA-Z0-9]+[-_\.]?)+@[a-zA-Z0-9]+\.[a-z]+$/,message:"输入正确邮箱类型",trigger:"blur"}]},radio:"男"}},created(){this.getUser().then((e=>{console.log(e),this.form=e}))},methods:{async getUser(){return(await this.request.get("/employee/id/"+this.user.id)).data},save(){this.$refs["userForm"].validate((e=>{e&&this.request.put("/employee",this.form).then((e=>{"200"===e.code?(this.$message.success("保存成功"),this.$emit("refreshUser")):this.$message.error("保存失败")}))}))},handleAvatarSuccess(e){this.form.avatarUrl=e}}},o=l,m=t(1001),i=(0,m.Z)(o,a,s,!1,null,null,null),u=i.exports}}]);
//# sourceMappingURL=647.9d4d8a18.js.map