{"version":3,"file":"js/647.9d4d8a18.js","mappings":"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","sources":["webpack://vue/./src/views/Person.vue","webpack://vue/src/views/Person.vue","webpack://vue/./src/views/Person.vue?b6d0","webpack://vue/./src/views/Person.vue?0119"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-card',{staticStyle:{\"width\":\"500px\"}},[_c('el-form',{ref:\"userForm\",attrs:{\"label-width\":\"80px\",\"size\":\"small\",\"model\":_vm.form,\"rules\":_vm.rules}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":'http://localhost:9090/file/upload',\"show-file-list\":false,\"on-success\":_vm.handleAvatarSuccess}},[(_vm.form.avatarUrl)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.form.avatarUrl}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})]),_c('el-form-item',{attrs:{\"label\":\"用户名\"}},[_c('el-input',{attrs:{\"disabled\":\"\",\"autocomplete\":\"off\"},model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"昵称\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"身份证号码\",\"prop\":\"idNumber\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.idNumber),callback:function ($$v) {_vm.$set(_vm.form, \"idNumber\", $$v)},expression:\"form.idNumber\"}})],1),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.email),callback:function ($$v) {_vm.$set(_vm.form, \"email\", $$v)},expression:\"form.email\"}})],1),_c('el-form-item',{attrs:{\"label\":\"电话\",\"prop\":\"phone\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.phone),callback:function ($$v) {_vm.$set(_vm.form, \"phone\", $$v)},expression:\"form.phone\"}})],1),_c('el-form-item',{attrs:{\"label\":\"性别\",\"prop\":\"sex\"}},[_c('el-radio',{attrs:{\"label\":\"男\"},model:{value:(_vm.form.sex),callback:function ($$v) {_vm.$set(_vm.form, \"sex\", $$v)},expression:\"form.sex\"}},[_vm._v(\"男\")]),_c('el-radio',{attrs:{\"label\":\"女\"},model:{value:(_vm.form.sex),callback:function ($$v) {_vm.$set(_vm.form, \"sex\", $$v)},expression:\"form.sex\"}},[_vm._v(\"女\")])],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"确 定\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-card style=\"width: 500px;\">\n    <el-form label-width=\"80px\" size=\"small\" :model=\"form\" :rules=\"rules\" ref=\"userForm\">\n      <el-upload\n          class=\"avatar-uploader\"\n          :action=\"'http://localhost:9090/file/upload'\"\n          :show-file-list=\"false\"\n          :on-success=\"handleAvatarSuccess\"\n      >\n        <img v-if=\"form.avatarUrl\" :src=\"form.avatarUrl\" class=\"avatar\">\n        <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n      </el-upload>\n      <el-form-item label=\"用户名\">\n        <el-input v-model=\"form.username\" disabled autocomplete=\"off\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"昵称\"  prop=\"name\">\n        <el-input v-model=\"form.name\" autocomplete=\"off\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"身份证号码\"  prop=\"idNumber\">\n        <el-input v-model=\"form.idNumber\" autocomplete=\"off\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"邮箱\"  prop=\"email\">\n        <el-input v-model=\"form.email\" autocomplete=\"off\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"电话\"  prop=\"phone\">\n        <el-input v-model=\"form.phone\" autocomplete=\"off\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"性别\"  prop=\"sex\">\n<!--        <el-input v-model=\"form.sex\" autocomplete=\"off\"></el-input>-->\n\n          <el-radio v-model=\"form.sex\" label=\"男\">男</el-radio>\n          <el-radio v-model=\"form.sex\" label=\"女\">女</el-radio>\n\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"save\">确 定</el-button>\n      </el-form-item>\n    </el-form>\n  </el-card>\n</template>\n\n<script>\n\nexport default {\n  name: \"Person\",\n  data() {\n    return {\n      form: {},\n      user: localStorage.getItem(\"user\") ? JSON.parse(localStorage.getItem(\"user\")) : {},//将浏览器中的字符串信息解析为json\n\n      //校验规则\n      rules: {\n        username: [\n          {required: true, message: '请输入用户名', trigger: 'blur'},\n          {min: 3, max: 10, message: '长度在 3 到 10 个字符', trigger: 'blur'}\n        ],\n        idNumber: [\n          {required: true, message: '请输入身份证号码', trigger: 'blur'},\n          {pattern:/(^\\d{15}$)|(^\\d{18}$)|(^\\d{17}(\\d|X|x)$)/, message: '输入正确身份证号码', trigger: 'blur'}\n        ],\n        name: [\n          {required: true, message: '请输入昵称', trigger: 'blur'},\n        ],\n        phone: [\n          {required: true, message: '请输入电话号码', trigger: 'blur'},\n          {pattern:/^((0\\d{2,3}-\\d{7,8})|(1[34578]\\d{9}))$/, message: '输入正确电话号码', trigger: 'blur'}\n        ],\n        email: [\n          { required: true, message: '请输入邮箱', trigger: \"blur\" },\n          { pattern:/^([a-zA-Z0-9]+[-_\\.]?)+@[a-zA-Z0-9]+\\.[a-z]+$/, message: '输入正确邮箱类型', trigger: \"blur\"}\n        ]\n      },\n\n      radio: '男',\n    }\n  },\n  created() {\n    this.getUser().then(res => {\n      console.log(res)\n      this.form = res\n    })\n  },\n  methods: {\n    async getUser() {\n      return (await this.request.get(\"/employee/id/\" + this.user.id)).data\n    },\n    save() {\n      this.$refs['userForm'].validate((valid) => {\n        if (valid) {\n          this.request.put(\"/employee\", this.form).then(res => {\n            if (res.code === '200') {\n              this.$message.success(\"保存成功\")\n\n              // 触发父级更新User的方法,解决头像不实时更新\n              this.$emit(\"refreshUser\")\n\n              // // 更新浏览器存储的用户信息\n              // this.getUser().then(res => {\n              //   res.token = JSON.parse(localStorage.getItem(\"user\")).token\n              //   localStorage.setItem(\"user\", JSON.stringify(res))\n              // })\n            } else {\n              this.$message.error(\"保存失败\")\n            }\n          })\n        }\n      });\n    },\n    handleAvatarSuccess(res) {\n      this.form.avatarUrl = res\n    }\n  }\n}\n</script>\n\n<style>\n.avatar-uploader {\n  text-align: center;\n  padding-bottom: 10px;\n}\n.avatar-uploader .el-upload {\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n}\n.avatar-uploader .el-upload:hover {\n  border-color: #409EFF;\n}\n.avatar-uploader-icon {\n  font-size: 28px;\n  color: #8c939d;\n  width: 138px;\n  height: 138px;\n  line-height: 138px;\n  text-align: center;\n}\n.avatar {\n  width: 138px;\n  height: 138px;\n  display: block;\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Person.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Person.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Person.vue?vue&type=template&id=353e8d48&\"\nimport script from \"./Person.vue?vue&type=script&lang=js&\"\nexport * from \"./Person.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Person.vue?vue&type=style&index=0&id=353e8d48&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticStyle","ref","attrs","form","rules","staticClass","handleAvatarSuccess","avatarUrl","model","value","username","callback","$$v","$set","expression","name","idNumber","email","phone","sex","_v","on","save","staticRenderFns","data","user","required","message","trigger","min","max","pattern","radio","created","console","methods","component"],"sourceRoot":""}