"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[348],{8348:function(t,e,s){s.r(e),s.d(e,{default:function(){return c}});var o=function(){var t=this,e=t._self._c;return e("div",[e("h1",{staticStyle:{"margin-bottom":"20px","font-size":"30px"}},[t._v("课程评分")]),e("el-table",{staticStyle:{"margin-bottom":"20px"},attrs:{data:t.tableData,border:"",stripe:""}},[e("el-table-column",{attrs:{prop:"name",label:"课程名称"}}),e("el-table-column",{attrs:{prop:"teacher",label:"老师名称"}}),e("el-table-column",{attrs:{prop:"courseScore",label:"你的评分"}}),e("el-table-column",{attrs:{label:"课程评分"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("el-button",{attrs:{type:"success"},on:{click:function(e){return t.handleScore(s.row)}}},[t._v("立即评分")])]}}])})],1),e("el-dialog",{attrs:{visible:t.dialog,title:"评分界面",width:"35%"},on:{"update:visible":function(e){t.dialog=e}}},[e("h2",{staticStyle:{margin:"-30px 0 10px 0","text-align":"center"}},[t._v("课程评分")]),e("el-form",{ref:"userForm",attrs:{"label-width":"90px",size:"small",model:t.form}},[e("el-form-item",{attrs:{label:"课程名称:",prop:"name"}},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.form.name))])]),e("el-form-item",{attrs:{label:"计划打分:"}},[e("el-rate",{attrs:{colors:t.colors,texts:t.texts,"show-text":""},model:{value:t.form.courseScore,callback:function(e){t.$set(t.form,"courseScore",e)},expression:"form.courseScore"}})],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dialog=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.saveCourse}},[t._v("确 定")])],1)],1)],1)},r=[],a={name:"Score",data(){return{tableData:[],name:"",multipleSelection:[],form:{},options:[],user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):{},dialog:!1,colors:["#99A9BF","#F7BA2A","#FF9900"],texts:["1分","2分","3分","4分","5分好评"],status:2}},created(){this.load()},methods:{load(){this.request.get("/order/status/"+this.user.id).then((t=>{this.status=t.data,0==this.status.status&&this.request.get("/stuCourse/courses/"+this.user.id).then((t=>{this.tableData=t.data}))}))},save(){this.$refs["userForm"].validate((t=>{t&&this.request.post("/menu",this.form).then((t=>{"200"===t.code?(this.$message.success("保存成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("保存失败")}))}))},handleScore(t){this.form=JSON.parse(JSON.stringify(t)),this.dialog=!0},saveCourse(){this.request.post("/stuCourse/courseScore",this.form).then((t=>{"200"===t.code?(this.$message.success("评价成功"),this.dialog=!1,this.load()):this.$message.error(t.msg)}))}}},l=a,i=s(1001),u=(0,i.Z)(l,o,r,!1,null,"3b1721f8",null),c=u.exports}}]);
//# sourceMappingURL=348.bd96c78d.js.map